!function(){"use strict";angular.module("dsBlogComments",[])}(),function(){"use strict";function CommentFormCtrl($modal){function openModal(event){event.preventDefault(),$modal.open({templateUrl:"shortSignupModal",controller:"CommentFormModalInstanceCtrl as commentFormModal",size:"lg"})}var vm=this;vm.commentsFocused=!1,vm.textAreaValid=!1,vm.openModal=openModal}angular.module("dsBlogComments").controller("CommentFormCtrl",CommentFormCtrl),CommentFormCtrl.$inject=["$modal"]}(),function(){"use strict";function CommentFormModalInstanceCtrl($scope,$modalInstance){function closeModal(){$modalInstance.close()}var vm=this;vm.submitType="preview",vm.closeModal=closeModal,$scope.localSignupSuccessCallback=function(){angular.element("div.comments__write input[name='preview_button']").trigger("click")}}angular.module("dsBlogComments").controller("CommentFormModalInstanceCtrl",CommentFormModalInstanceCtrl),CommentFormModalInstanceCtrl.$inject=["$scope","$modalInstance"]}(),function(){"use strict";function commentForm(){function link(scope,el){scope.showAmendCommentForm=!1,el.find(".js-amend-comment").on("click",function(){scope.showAmendCommentForm=!0,scope.$apply()}),el.find(".js-post-preview-comment").on("click",function(){el.find("form.new_blog_comment").submit()})}var directive={link:link,restrict:"EA"};return directive}angular.module("dsBlogComments").directive("commentForm",commentForm)}(),function(){"use strict";function commentInput(){function link(scope,element){function setTextareaValidity(){scope.$apply(function(){scope.commentForm.commentsFocused=!0,scope.commentForm.textAreaValid=!!element.val()})}function extendTextarea(){element.attr("rows",4)}function closeInput(){0!==form.find(":hover").length||element.val()||(element.attr("rows",1),scope.$apply(function(){scope.commentForm.commentsFocused=!1}))}var form=angular.element(".comments__write"),body=angular.element("body");element.on("focus",extendTextarea),element.on("focus keyup",setTextareaValidity),body.on("click",closeInput)}var directive={link:link,restrict:"EA"};return directive}angular.module("dsBlogComments").directive("commentInput",commentInput)}();